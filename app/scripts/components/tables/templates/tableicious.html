<table class="table table-striped table-hover table-condensed table-bordered">
    <thead>
        <tr>
            <th ng-if="heading.enabled" class="{{heading.headingClass}}" ng-repeat="heading in getAllHeadingsAtNestingLevel(0) | orderBy:getColumnIndex:heading"
                rowspan="{{getHeadingRowSpan(heading)}}"
                colspan="{{getHeadingColSpan(heading)}}"
                tableicious-header heading="heading" data="data">
                   <span ng-if="!heading.noTitle" data-translate>
                       {{heading.displayName}}
                   </span>
            </th>

        </tr>
        <tr>
            <th ng-repeat="childHeading in getAllHeadingsAtNestingLevel(1)" data-translate>
                {{childHeading.displayName}}
            </th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="datum in dataAsKeyValuePairs track by $index" ng-init="$$index = $index; row = datum;">
            <td ng-if="heading.enabled" data-ng-repeat="heading in expandedHeadings | orderBy:getColumnIndex:heading" ng-init="field = getDataAtRow(heading, $$index)" field-id="heading.id" field="field" row="row" tableicious-cell>

                <a ng-if="heading.sref" data-ui-sref="{{heading.sref(field, datum, this)}}">
                    <!--{{heading.template ? heading.template(field,row,this) : field.val}}-->
                    {{getTemplate(heading,field,row,this)}}
                </a>

                <span ng-if="!heading.sref">
                    {{heading.template ? heading.template(field,row,this) : field.val}}
                </span>

                <div ng-if="heading.icon" class="text-center">
                    <i class="fa fa-{{heading.icon(field)}} fa-lg"></i>
                </div>

            </td>
        </tr>
    </tbody>
</table>

    <!---->
    <!--<h4>-->
        <!--Rearrange Columns (Prototype Demo Example)-->
    <!--</h4>-->
    <!--<h5>-->
        <!--Drag items to rearrange the columns.-->
    <!--</h5>-->
    <!--<arrange-columns list="draggableHeadings"></arrange-columns>-->