<div class="container-fluid projects search">
  <h1 data-translate>Projects</h1>

  <div class="row">
    <div class="col-lg-10 col-md-8 col-sm-12 pull-right no-padding-left search-bar">
      <div class="row">
        <div class="col-lg-2 col-md-2 col-sm-2">
          <button class="btn btn-default pull-right" data-translate aria-label="{{ 'Share Query' | translate }}">Share</button>
          <span class="fa fa-refresh pull-right"></span>
        </div>
        <div class="col-lg-10 col-md-10 col-sm-10">
          <input class="form-control" type="text" role="search"/>
        </div>
      </div>
    </div>
  </div>

  <div class="row search-panel">
    <div class="col-lg-2 col-md-3 facets-sidebar">
      <facets-free-text placeholder="{{ '(Project Name or Code)' | translate }}">
      </facets-free-text>
      <facet-terms data-facet="prsc.projects.facets.diseaseType"></facet-terms>
      <facet-terms data-facet="prsc.projects.facets.program"
                   data-collapsed="true"></facet-terms>
      <facet-terms data-facet="prsc.projects.facets.status"></facet-terms>
      <facet-terms data-facet="prsc.projects.facets.dataType"></facet-terms>
      <facet-terms data-facet="prsc.projects.facets.experimentalStrategy"
                   data-collapsed="true"></facet-terms>
    </div>
    <div class="col-lg-10 col-md-9 table-area">
      <h4 class="clearfix">

        <span class="pull-right">
          <select-columns></select-columns>
          <export-table></export-table>
        </span>
      </h4>
      <table class="table table-striped table-hover table-condensed table-bordered">
        <thead>
        <tr>
          <th scope="col" rowspan="2" class="text-center" data-translate>Code</th>
          <th scope="col" rowspan="2" class="text-center" data-translate>Name</th>
          <th scope="col" rowspan="2" class="text-center" data-translate>Disease Type</th>
          <th scope="col" rowspan="2" class="text-center" data-translate>Program</th>
          <th scope="col" rowspan="2" class="text-center">
            &#35; <span data-translate>Participants</span>
          </th>
          <th scope="col" colspan="6" rowspan="1" class="text-center" data-translate>
            Available Data Files per Data Type
          </th>
          <th scope="col" rowspan="2" class="text-center" data-translate>Status</th>
          <th scope="col" rowspan="2" class="text-center" data-translate>Last Update</th>
        </tr>
        <tr>
          <th scope="col" data-translate>Clinical</th>
          <th scope="col" data-translate>SNV</th>
          <th scope="col" data-translate>mRNA</th>
          <th scope="col" data-translate>miRNA</th>
          <th scope="col" data-translate>Copy Number</th>
          <th scope="col" data-translate>Meth</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="p in prsc.projects.hits track by p.id">
          <td><a data-ui-sref="project({ projectId: p.id })">{{ p.code }}</a></td>
          <td>{{ p.name }}</td>
          <td>{{ p.diseaseType }}</td>
          <td>{{ p.program }}</td>
          <td><a data-ui-sref="search.participants( { projectId: p.id })">{{ p.summary.participantCount }}</a></td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["Clinical"].fileCount }}</a>
          </td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["SNV"].fileCount }}</a></td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["mRNA Expression"].fileCount
            }}</a></td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["miRNA
            Expression"].fileCount }}</a></td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["Copy number
            variation"].fileCount }}</a></td>
          <td><a data-ui-sref="search.files({ projectId: p.id })">{{ p.summary.analyzedData["DNA methylation"].fileCount
            }}</a></td>
          <td>{{ p.status}}</td>
          <td>{{ p.date | date }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
