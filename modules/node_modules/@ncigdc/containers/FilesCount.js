// @flow

import React from 'react';
import Relay from 'react-relay';

type TProps = {
  hits: {
    pagination: {
      total: number,
    },
  },
};

const FilesCountComponent = (props: TProps) => (
  <span>
    {props.hits.pagination.total > 0
      ? props.hits.pagination.total.toLocaleString()
      : <span className="fa fa-spinner fa-spin" />
    }
  </span>
);

export const FilesCountQuery = {
  fragments: {
    hits: () => Relay.QL`
      fragment on FileConnection {
        pagination {
          total
        }
      }
    `,
  },
};

const FilesCount = Relay.createContainer(
  FilesCountComponent,
  FilesCountQuery
);

export default FilesCount;
