// @flow

import React from 'react';
import Relay from 'react-relay';

type TProps = {
  hits: {
    pagination: {
      total: number,
    },
  },
};

const CasesCountComponent = (props: TProps) => (
  <span>
    {props.hits.pagination.total > 0
      ? props.hits.pagination.total.toLocaleString()
      : <span className="fa fa-spinner fa-spin" />
    }
  </span>
);

export const CasesCountQuery = {
  fragments: {
    hits: () => Relay.QL`
      fragment on CaseConnection {
        pagination {
          total
        }
      }
    `,
  },
};

const CasesCount = Relay.createContainer(
  CasesCountComponent,
  CasesCountQuery
);

export default CasesCount;
